{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Administrator/Downloads/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C (1)/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C/AI_Plaza-main/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/Administrator/Downloads/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C (1)/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C/AI_Plaza-main/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Administrator/Downloads/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C (1)/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C/AI_Plaza-main/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Administrator/Downloads/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C (1)/\\uCD5C\\uC885\\uC0B0\\uCD9C\\uBB3C/AI_Plaza-main/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// src/components/ChatComponent.js\nimport React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatComponent=function ChatComponent(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userInput=_useState2[0],setUserInput=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedVoice=_useState4[0],setSelectedVoice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),selectedLanguage=_useState6[0],setSelectedLanguage=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),chatMessages=_useState8[0],setChatMessages=_useState8[1];var sendMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userMessage,requestBody,response,responseData,botMessage,audio;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;// Create a new message object for the user's message\nuserMessage={type:'user',text:userInput};// Update the chatMessages state with the user's message\nsetChatMessages([].concat(_toConsumableArray(chatMessages),[userMessage]));// Send the user's message to the server\nrequestBody={user_input:userInput,selected_voice:selectedVoice,selected_language:selectedLanguage};_context.next=6;return fetch('/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});case 6:response=_context.sent;if(!response.ok){_context.next=17;break;}_context.next=10;return response.json();case 10:responseData=_context.sent;// Create a new message object for the bot's response\nbotMessage={type:'bot',text:responseData.text};// Update the chatMessages state with the bot's response\nsetChatMessages([].concat(_toConsumableArray(chatMessages),[botMessage]));// Play the audio (if needed)\naudio=new Audio('data:audio/mpeg;base64,'+responseData.audio);audio.play();_context.next=18;break;case 17:console.error('Failed to fetch data from the server.');case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](0);console.error('An error occurred:',_context.t0);case 23:case\"end\":return _context.stop();}},_callee,null,[[0,20]]);}));return function sendMessage(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"select\",{id:\"voices\",value:selectedVoice,onChange:function onChange(e){return setSelectedVoice(e.target.value);}}),/*#__PURE__*/_jsx(\"select\",{id:\"languages\",value:selectedLanguage,onChange:function onChange(e){return setSelectedLanguage(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{id:\"chat\",children:chatMessages.map(function(message,index){return/*#__PURE__*/_jsxs(\"div\",{className:message.type,children:[message.type==='user'?'You':'Bot',\": \",message.text]},index);})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userInput,onChange:function onChange(e){return setUserInput(e.target.value);},id:\"user_input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"})]});};export default ChatComponent;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ChatComponent","_useState","_useState2","_slicedToArray","userInput","setUserInput","_useState3","_useState4","selectedVoice","setSelectedVoice","_useState5","_useState6","selectedLanguage","setSelectedLanguage","_useState7","_useState8","chatMessages","setChatMessages","sendMessage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userMessage","requestBody","response","responseData","botMessage","audio","wrap","_callee$","_context","prev","next","type","text","concat","_toConsumableArray","user_input","selected_voice","selected_language","fetch","method","headers","body","JSON","stringify","sent","ok","json","Audio","play","console","error","t0","stop","apply","arguments","children","id","value","onChange","e","target","map","message","index","className","onClick"],"sources":["C:/Users/Administrator/Downloads/최종산출물 (1)/최종산출물/AI_Plaza-main/influencer/influencer/frontend/src/components/ChatComponent.js"],"sourcesContent":["// src/components/ChatComponent.js\r\n\r\nimport React, { useState } from 'react';\r\n\r\nconst ChatComponent = () => {\r\n  const [userInput, setUserInput] = useState('');\r\n  const [selectedVoice, setSelectedVoice] = useState('');\r\n  const [selectedLanguage, setSelectedLanguage] = useState('');\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n\r\n  const sendMessage = async () => {\r\n    try {\r\n      // Create a new message object for the user's message\r\n      const userMessage = {\r\n        type: 'user',\r\n        text: userInput,\r\n      };\r\n\r\n      // Update the chatMessages state with the user's message\r\n      setChatMessages([...chatMessages, userMessage]);\r\n\r\n      // Send the user's message to the server\r\n      const requestBody = {\r\n        user_input: userInput,\r\n        selected_voice: selectedVoice,\r\n        selected_language: selectedLanguage,\r\n      };\r\n\r\n      const response = await fetch('/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(requestBody),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const responseData = await response.json();\r\n\r\n        // Create a new message object for the bot's response\r\n        const botMessage = {\r\n          type: 'bot',\r\n          text: responseData.text,\r\n        };\r\n\r\n        // Update the chatMessages state with the bot's response\r\n        setChatMessages([...chatMessages, botMessage]);\r\n\r\n        // Play the audio (if needed)\r\n        const audio = new Audio('data:audio/mpeg;base64,' + responseData.audio);\r\n        audio.play();\r\n      } else {\r\n        console.error('Failed to fetch data from the server.');\r\n      }\r\n    } catch (error) {\r\n      console.error('An error occurred:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <select id=\"voices\" value={selectedVoice} onChange={(e) => setSelectedVoice(e.target.value)}>\r\n          {/* Replace with options from your data source */}\r\n        </select>\r\n        <select id=\"languages\" value={selectedLanguage} onChange={(e) => setSelectedLanguage(e.target.value)}>\r\n          {/* Replace with options from your data source */}\r\n        </select>\r\n      </div>\r\n      <div id=\"chat\">\r\n        {chatMessages.map((message, index) => (\r\n          <div key={index} className={message.type}>\r\n            {message.type === 'user' ? 'You' : 'Bot'}: {message.text}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        value={userInput}\r\n        onChange={(e) => setUserInput(e.target.value)}\r\n        id=\"user_input\"\r\n      />\r\n      <button onClick={sendMessage}>Send</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}