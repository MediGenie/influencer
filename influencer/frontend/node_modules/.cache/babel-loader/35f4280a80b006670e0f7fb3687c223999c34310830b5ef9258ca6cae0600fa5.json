{"ast":null,"code":"import _toConsumableArray from\"/home/ubuntu/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/home/ubuntu/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ubuntu/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/ubuntu/influencer/influencer/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./ChatComponent.css';// Assume you have a CSS file for styles\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatComponent=function ChatComponent(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userInput=_useState2[0],setUserInput=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedVoice=_useState4[0],setSelectedVoice=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),selectedLanguage=_useState6[0],setSelectedLanguage=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),chatMessages=_useState8[0],setChatMessages=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),voices=_useState10[0],setVoices=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),languages=_useState12[0],setLanguages=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isSending=_useState14[0],setIsSending=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),selectedIdPair=_useState16[0],setSelectedIdPair=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),idPairs=_useState18[0],setIdPairs=_useState18[1];// State to hold the list of ID pairs\nvar serverBaseUrl='http://3.35.238.210:5000';useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,voiceEntries,languageEntries,idPairEntries;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;console.log('Fetching config data from server...');_context.next=4;return fetch(\"\".concat(serverBaseUrl,\"/config\"));case 4:response=_context.sent;if(!response.ok){_context.next=21;break;}_context.next=8;return response.json();case 8:data=_context.sent;voiceEntries=Object.entries(data.voices).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),label=_ref3[0],value=_ref3[1];return{label:label,value:value};});languageEntries=Object.entries(data.languages).map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),label=_ref5[0],value=_ref5[1];return{label:label,value:value};});idPairEntries=Object.entries(data.id_pairs).map(function(_ref6){var _ref7=_slicedToArray(_ref6,2),label=_ref7[0],ids=_ref7[1];return{label:label,value:ids// Here ids is an object { ID1: \"xxx\", ID2: \"yyy\" }\n};});setIdPairs(idPairEntries);setVoices(voiceEntries);setLanguages(languageEntries);if(idPairEntries.length>0){setSelectedIdPair(idPairEntries[0].value);}// Set default selected values\nif(idPairEntries.length>0){setSelectedIdPair(idPairEntries[0].value);}if(voiceEntries.length>0){setSelectedVoice(voiceEntries[0].value);}if(languageEntries.length>0){setSelectedLanguage(languageEntries[0].value);}_context.next=22;break;case 21:console.error('Failed to fetch data from the server:',response.statusText);case 22:_context.next=27;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](0);console.error('An error occurred while fetching data:',_context.t0);case 27:case\"end\":return _context.stop();}},_callee,null,[[0,24]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var _useState19=useState('User'),_useState20=_slicedToArray(_useState19,2),userName=_useState20[0],setUserName=_useState20[1];useEffect(function(){console.log('Voices:',voices);console.log('Languages:',languages);},[voices,languages]);var getVoiceLabel=function getVoiceLabel(voiceValue){var voice=voices.find(function(v){return v.value===voiceValue;});return voice?voice.label:'Bot';};var sendMessage=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var combinedInput,actualSelectedPair,requestBody,response,responseData,audio;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(userInput.trim()){_context2.next=3;break;}console.log('No input to send');return _context2.abrupt(\"return\");case 3:setIsSending(true);setChatMessages(function(prevMessages){return[].concat(_toConsumableArray(prevMessages),[{type:'user',name:userName,text:userInput}]);});setUserInput('');_context2.prev=6;combinedInput=\"\".concat(selectedLanguage,\":\").concat(userInput);// Make sure actualSelectedPair is defined from selectedIdPair state\nactualSelectedPair=selectedIdPair;// Check that actualSelectedPair has the required properties\nif(!(!actualSelectedPair||!actualSelectedPair.ID1||!actualSelectedPair.ID2)){_context2.next=12;break;}console.error('Selected ID pair is invalid:',actualSelectedPair);return _context2.abrupt(\"return\");case 12:requestBody={user_input:combinedInput,selected_voice:selectedVoice,selected_language:selectedLanguage,selected_id_pair_key:{ID1:actualSelectedPair.ID1,ID2:actualSelectedPair.ID2}};_context2.next=15;return fetch(\"\".concat(serverBaseUrl,\"/chat\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});case 15:response=_context2.sent;if(!response.ok){_context2.next=25;break;}_context2.next=19;return response.json();case 19:responseData=_context2.sent;// Update chatMessages state with the bot's message\nsetChatMessages(function(prevMessages){return[].concat(_toConsumableArray(prevMessages),[{type:'bot',text:responseData.text}]);});// Play the audio (if needed)\naudio=new Audio('data:audio/mpeg;base64,'+responseData.audio);audio.play();_context2.next=26;break;case 25:console.error('Failed to send message to the server:',response.statusText);case 26:_context2.next=31;break;case 28:_context2.prev=28;_context2.t0=_context2[\"catch\"](6);console.error('An error occurred:',_context2.t0);case 31:_context2.prev=31;setIsSending(false);// Re-enable the send button whether there was an error or not\nreturn _context2.finish(31);case 34:case\"end\":return _context2.stop();}},_callee2,null,[[6,28,31,34]]);}));return function sendMessage(){return _ref8.apply(this,arguments);};}();var handleIdPairChange=function handleIdPairChange(e){var selectedLabel=e.target.value;var selectedPair=idPairs.find(function(pair){return pair.label===selectedLabel;});setSelectedIdPair(selectedPair?selectedPair.value:null);};var handleLanguageChange=function handleLanguageChange(e){console.log('Language selected:',e.target.value);setSelectedLanguage(e.target.value);};useEffect(function(){console.log('Selected language state updated to:',selectedLanguage);},[selectedLanguage]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-config\",children:[/*#__PURE__*/_jsx(\"select\",{id:\"idPairs\",value:selectedIdPair?selectedIdPair.label:'',onChange:handleIdPairChange,children:idPairs.map(function(pair,index){return/*#__PURE__*/_jsx(\"option\",{value:pair.label,children:pair.label},index);})}),/*#__PURE__*/_jsx(\"select\",{id:\"voices\",value:selectedVoice,onChange:function onChange(e){return setSelectedVoice(e.target.value);},children:voices.map(function(voice,index){return/*#__PURE__*/_jsx(\"option\",{value:voice.value,children:voice.label},index);})}),/*#__PURE__*/_jsx(\"select\",{id:\"languages\",value:selectedLanguage,onChange:function onChange(e){return setSelectedLanguage(e.target.value);},children:languages.map(function(language,index){return/*#__PURE__*/_jsx(\"option\",{value:language.value,children:language.label},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-messages\",children:chatMessages.map(function(msg,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"message \".concat(msg.type),children:[/*#__PURE__*/_jsx(\"span\",{className:\"message-name\",children:msg.type==='user'?\"\".concat(userName,\":\"):\"\".concat(getVoiceLabel(selectedVoice),\":\")}),/*#__PURE__*/_jsx(\"span\",{className:\"message-text\",children:msg.text})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:userInput,onChange:function onChange(e){return setUserInput(e.target.value);},disabled:isSending,onKeyDown:function onKeyDown(e){if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}},placeholder:\"Type your message here...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,disabled:!userInput.trim()||isSending,children:\"Send\"})]})]});};export default ChatComponent;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ChatComponent","_useState","_useState2","_slicedToArray","userInput","setUserInput","_useState3","_useState4","selectedVoice","setSelectedVoice","_useState5","_useState6","selectedLanguage","setSelectedLanguage","_useState7","_useState8","chatMessages","setChatMessages","_useState9","_useState10","voices","setVoices","_useState11","_useState12","languages","setLanguages","_useState13","_useState14","isSending","setIsSending","_useState15","_useState16","selectedIdPair","setSelectedIdPair","_useState17","_useState18","idPairs","setIdPairs","serverBaseUrl","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","voiceEntries","languageEntries","idPairEntries","wrap","_callee$","_context","prev","next","console","log","fetch","concat","sent","ok","json","Object","entries","map","_ref2","_ref3","label","value","_ref4","_ref5","id_pairs","_ref6","_ref7","ids","length","error","statusText","t0","stop","apply","arguments","_useState19","_useState20","userName","setUserName","getVoiceLabel","voiceValue","voice","find","v","sendMessage","_ref8","_callee2","combinedInput","actualSelectedPair","requestBody","responseData","audio","_callee2$","_context2","trim","abrupt","prevMessages","_toConsumableArray","type","name","text","ID1","ID2","user_input","selected_voice","selected_language","selected_id_pair_key","method","headers","body","JSON","stringify","Audio","play","finish","handleIdPairChange","e","selectedLabel","target","selectedPair","pair","handleLanguageChange","className","children","id","onChange","index","language","msg","disabled","onKeyDown","key","shiftKey","preventDefault","placeholder","onClick"],"sources":["/home/ubuntu/influencer/influencer/frontend/src/components/ChatComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './ChatComponent.css'; // Assume you have a CSS file for styles\n\nconst ChatComponent = () => {\n  const [userInput, setUserInput] = useState('');\n  const [selectedVoice, setSelectedVoice] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('');\n  const [chatMessages, setChatMessages] = useState([]);\n  const [voices, setVoices] = useState([]);\n  const [languages, setLanguages] = useState([]);\n  const [isSending, setIsSending] = useState(false);\n  const [selectedIdPair, setSelectedIdPair] = useState({});\n  const [idPairs, setIdPairs] = useState([]); // State to hold the list of ID pairs\n  const serverBaseUrl = 'http://3.35.238.210:5000';\n\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        console.log('Fetching config data from server...');\n        const response = await fetch(`${serverBaseUrl}/config`);\n        if (response.ok) {\n          const data = await response.json();\n          const voiceEntries = Object.entries(data.voices).map(([label, value]) => ({ label, value }));\n          const languageEntries = Object.entries(data.languages).map(([label, value]) => ({ label, value }));\n          const idPairEntries = Object.entries(data.id_pairs).map(([label, ids]) => ({\n            label,\n            value: ids, // Here ids is an object { ID1: \"xxx\", ID2: \"yyy\" }\n          }));\n          setIdPairs(idPairEntries);\n          setVoices(voiceEntries);\n          setLanguages(languageEntries);\n          if (idPairEntries.length > 0) {\n            setSelectedIdPair(idPairEntries[0].value);\n          }\n\n          \n          // Set default selected values\n          if (idPairEntries.length > 0) {\n            setSelectedIdPair(idPairEntries[0].value);\n          }\n          \n          if (voiceEntries.length > 0) {\n            setSelectedVoice(voiceEntries[0].value);\n          }\n          if (languageEntries.length > 0) {\n            setSelectedLanguage(languageEntries[0].value);\n          }\n        } else {\n          console.error('Failed to fetch data from the server:', response.statusText);\n        }\n      } catch (error) {\n        console.error('An error occurred while fetching data:', error);\n      }\n    };\n  \n    fetchData();\n  }, []);\n  \n  const [userName, setUserName] = useState('User');\n\n  useEffect(() => {\n    console.log('Voices:', voices);\n    console.log('Languages:', languages);\n  }, [voices, languages]);\n\n  const getVoiceLabel = (voiceValue) => {\n    const voice = voices.find(v => v.value === voiceValue);\n    return voice ? voice.label : 'Bot';\n  };\n  \n  const sendMessage = async () => {\n    if (!userInput.trim()) {\n      console.log('No input to send');\n      return;\n    }\n  \n    setIsSending(true);\n  \n    setChatMessages(prevMessages => [\n      ...prevMessages,\n      { type: 'user', name: userName, text: userInput }\n    ]);\n  \n    setUserInput('');\n  \n    try {\n      const combinedInput = `${selectedLanguage}:${userInput}`;\n      \n      // Make sure actualSelectedPair is defined from selectedIdPair state\n      const actualSelectedPair = selectedIdPair;\n    \n      // Check that actualSelectedPair has the required properties\n      if (!actualSelectedPair || !actualSelectedPair.ID1 || !actualSelectedPair.ID2) {\n        console.error('Selected ID pair is invalid:', actualSelectedPair);\n        return;\n      }\n\n      const requestBody = {\n        user_input: combinedInput,\n        selected_voice: selectedVoice,\n        selected_language: selectedLanguage,\n        selected_id_pair_key: {\n          ID1: actualSelectedPair.ID1,\n          ID2: actualSelectedPair.ID2,\n        },\n      };\n\n      const response = await fetch(`${serverBaseUrl}/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody),\n      });\n  \n      if (response.ok) {\n        const responseData = await response.json();\n        \n        // Update chatMessages state with the bot's message\n        setChatMessages(prevMessages => [\n          ...prevMessages,\n          { type: 'bot', text: responseData.text },\n        ]);\n        \n        // Play the audio (if needed)\n        const audio = new Audio('data:audio/mpeg;base64,' + responseData.audio);\n        audio.play();\n      } else {\n        console.error('Failed to send message to the server:', response.statusText);\n      }\n    } catch (error) {\n      console.error('An error occurred:', error);\n    } finally {\n      setIsSending(false); // Re-enable the send button whether there was an error or not\n    }\n  };\n  const handleIdPairChange = (e) => {\n    const selectedLabel = e.target.value;\n    const selectedPair = idPairs.find(pair => pair.label === selectedLabel);\n    setSelectedIdPair(selectedPair ? selectedPair.value : null);\n  };\n\n  const handleLanguageChange = (e) => {\n    console.log('Language selected:', e.target.value);\n    setSelectedLanguage(e.target.value);\n  };\n\n  useEffect(() => {\n    console.log('Selected language state updated to:', selectedLanguage);\n  }, [selectedLanguage]);\n\n  return (\n    <div className=\"chat-container\">\n      <div className=\"chat-config\">\n      <select id=\"idPairs\" value={selectedIdPair ? selectedIdPair.label : ''} onChange={handleIdPairChange}>\n        {idPairs.map((pair, index) => (\n          <option key={index} value={pair.label}>\n            {pair.label}\n          </option>\n        ))}\n      </select>\n        <select id=\"voices\" value={selectedVoice} onChange={(e) => setSelectedVoice(e.target.value)}>\n          {voices.map((voice, index) => (\n            <option key={index} value={voice.value}>\n              {voice.label}\n            </option>\n          ))}\n        </select>\n        <select id=\"languages\" value={selectedLanguage} onChange={(e) => setSelectedLanguage(e.target.value)}>\n          {languages.map((language, index) => (\n            <option key={index} value={language.value}>\n              {language.label}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className=\"chat-messages\">\n        {chatMessages.map((msg, index) => (\n          <div key={index} className={`message ${msg.type}`}>\n            <span className=\"message-name\">\n              {msg.type === 'user' ? `${userName}:` : `${getVoiceLabel(selectedVoice)}:`}\n            </span>\n            <span className=\"message-text\">{msg.text}</span>\n          </div>\n        ))}\n      </div>\n      <div className=\"chat-input\">\n      <textarea\n     value={userInput}\n     onChange={(e) => setUserInput(e.target.value)}\n     disabled={isSending}\n     onKeyDown={(e) => {\n       if (e.key === 'Enter' && !e.shiftKey) {\n         e.preventDefault();\n         sendMessage();\n       }\n     }}\n     placeholder=\"Type your message here...\"\n  />\n  <button onClick={sendMessage} disabled={!userInput.trim() || isSending}>\n    Send\n  </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}